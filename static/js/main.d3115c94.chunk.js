(this["webpackJsonpsearch-photos"]=this["webpackJsonpsearch-photos"]||[]).push([[0],{80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(42),n=c.n(s),r=c(6),i=c(7),o=c(9),l=c(8),h=c(20),u=c.n(h),j=c(23),b=c(43),d=c(21),p=c(13),f=c(22),m=c.n(f),O=c(84),g=c(83),k=c(15),v=c.n(k),x=(c(78),c(1)),y=function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(r.a)(this,c);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).handleCloseClick=function(e){e.isFocus=!1},e}return Object(i.a)(c,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(v.a,{list:JSON.parse(localStorage.getItem("recentSearches")),renderItem:function(e,t){return Object(x.jsx)("li",{children:e},t)},display:{row:!0,rowGap:"2px"}})})}}]),c}(a.Component),C=(c(80),function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"sk-cube-grid",children:[Object(x.jsx)("div",{className:"sk-cube sk-cube1"}),Object(x.jsx)("div",{className:"sk-cube sk-cube2"}),Object(x.jsx)("div",{className:"sk-cube sk-cube3"}),Object(x.jsx)("div",{className:"sk-cube sk-cube4"}),Object(x.jsx)("div",{className:"sk-cube sk-cube5"}),Object(x.jsx)("div",{className:"sk-cube sk-cube6"}),Object(x.jsx)("div",{className:"sk-cube sk-cube7"}),Object(x.jsx)("div",{className:"sk-cube sk-cube8"}),Object(x.jsx)("div",{className:"sk-cube sk-cube9"})]})}}]),c}(a.Component)),S=function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={searchText:"",apiUrl:"https://www.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=59a29f5605a377d0fec08b57452b1b6c&per_page=15&",searchApiUrl:"https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=59a29f5605a377d0fec08b57452b1b6c&tags=",images:{},temp:[],isLoading:!0,hasMoreItems:!0,pageNo:1,recentSearches:[],focus:!1},e.onTextChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleKeyPress=function(t){var c=t.target.value;"Enter"===t.key&&""!==c&&e.setState(Object(d.a)({},t.target.name,c),(function(){!1===e.state.recentSearches.includes(c)&&e.state.recentSearches.push(c),localStorage.setItem("recentSearches",JSON.stringify(e.state.recentSearches)),m.a.get("".concat(e.state.searchApiUrl+e.state.searchText,"&safe_search=true&per_page=15&page=1&format=json&nojsoncallback=1")).then((function(t){return e.setState({temp:t.data.photos.photo})})).catch((function(e){return console.log(e)}))}))},e.handleInputFocus=function(){e.setState({focus:!0})},e.handleCloseClick=function(){e.setState({focus:!1})},e.handleClearClick=function(){localStorage.clear(),e.handleCloseClick(),e.handleInputFocus()},e.getRecent=e.getRecent.bind(Object(p.a)(e)),e.handleKeyPress=e.handleKeyPress.bind(Object(p.a)(e)),e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.getRecent()}},{key:"getRecent",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(this.state.apiUrl,"page=").concat(this.state.pageNo,"&format=json&nojsoncallback=1")).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:t=e.sent,this.setState({temp:[].concat(Object(j.a)(this.state.temp),Object(j.a)(t.data.photos.photo))}),this.setState({pageNo:this.state.pageNo+1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"search-div",children:[Object(x.jsx)("h1",{children:"Search Photos"}),Object(x.jsx)("input",{type:"text",className:"search-box",placeholder:"Search for images",name:"searchText",value:this.state.searchText,onChange:this.onTextChange,onKeyPress:this.handleKeyPress,onFocus:this.handleInputFocus,autoComplete:"off"})]}),this.state.focus?Object(x.jsxs)("div",{style:{border:"1px solid lightgrey",width:"40rem",margin:"0 auto",marginTop:"-50px"},children:[Object(x.jsx)(y,{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(O.a,{variant:"primary",style:{width:"fit-content"},onClick:this.handleCloseClick,children:"Close"}),Object(x.jsx)(O.a,{variant:"danger",style:{width:"fit-content",marginLeft:"1rem"},onClick:this.handleClearClick,children:"Clear"})]})]}):null,Object(x.jsx)("div",{className:"flat-list",children:Object(x.jsx)(v.a,{list:this.state.temp,renderItem:function(e){return Object(x.jsx)(g.a,{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_m.jpg"),thumbnail:!0})},renderWhenEmpty:function(){return Object(x.jsx)(C,{})},display:{grid:!0,gridGap:"50px"},hasMoreItems:this.state.hasMoreItems,loadMoreItems:this.getRecent,paginationLoadingIndicator:Object(x.jsx)(C,{}),paginationLoadingIndicatorPosition:"center"})})]})}}]),c}(a.Component),N=(c(81),function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(S,{})})}}]),c}(a.Component));n.a.render(Object(x.jsx)(N,{}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.d3115c94.chunk.js.map