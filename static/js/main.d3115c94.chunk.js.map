{"version":3,"sources":["components/search/RecentSearches.js","components/Loader.js","components/search/Search.js","App.js","index.js"],"names":["RecentSearches","handleCloseClick","props","isFocus","list","JSON","parse","localStorage","getItem","renderItem","item","idx","display","row","rowGap","Component","Loader","className","Search","state","searchText","apiUrl","searchApiUrl","images","temp","isLoading","hasMoreItems","pageNo","recentSearches","focus","onTextChange","e","setState","target","name","value","handleKeyPress","event","val","key","includes","push","setItem","stringify","axios","get","then","res","data","photos","photo","catch","err","console","log","handleInputFocus","handleClearClick","clear","getRecent","bind","this","a","response","error","type","placeholder","onChange","onKeyPress","onFocus","autoComplete","style","border","width","margin","marginTop","Button","variant","onClick","marginLeft","Image","src","server","id","secret","thumbnail","renderWhenEmpty","grid","gridGap","loadMoreItems","paginationLoadingIndicator","paginationLoadingIndicatorPosition","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3115c94.chunk.js","sourcesContent":["import FlatList from \"flatlist-react\";\r\nimport { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nclass RecentSearches extends Component {\r\n  handleCloseClick = (props) => {\r\n    props.isFocus = false;\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <FlatList\r\n          list={JSON.parse(localStorage.getItem(\"recentSearches\"))}\r\n          renderItem={(item, idx) => <li key={idx}>{item}</li>}\r\n          display={{ row: true, rowGap: \"2px\" }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecentSearches;\r\n","import {Component} from 'react';\r\nimport \"./Loader.css\"\r\n\r\nclass Loader extends Component{\r\n    render(){\r\n        return(\r\n            <div className=\"sk-cube-grid\">\r\n                <div className=\"sk-cube sk-cube1\"></div>\r\n                <div className=\"sk-cube sk-cube2\"></div>\r\n                <div className=\"sk-cube sk-cube3\"></div>\r\n                <div className=\"sk-cube sk-cube4\"></div>\r\n                <div className=\"sk-cube sk-cube5\"></div>\r\n                <div className=\"sk-cube sk-cube6\"></div>\r\n                <div className=\"sk-cube sk-cube7\"></div>\r\n                <div className=\"sk-cube sk-cube8\"></div>\r\n                <div className=\"sk-cube sk-cube9\"></div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Image, Modal, Button } from \"react-bootstrap\";\r\nimport FlatList from \"flatlist-react\";\r\nimport RecentSearches from \"./RecentSearches\";\r\nimport Loader from \"../Loader\";\r\n\r\nclass Search extends Component {\r\n  constructor() {\r\n    super();\r\n    this.getRecent = this.getRecent.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n  }\r\n  state = {\r\n    searchText: \"\",\r\n    apiUrl:\r\n      \"https://www.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=59a29f5605a377d0fec08b57452b1b6c&per_page=15&\",\r\n    searchApiUrl:\r\n      \"https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=59a29f5605a377d0fec08b57452b1b6c&tags=\",\r\n    images: {},\r\n    temp: [],\r\n    isLoading: true,\r\n    hasMoreItems: true,\r\n    pageNo: 1,\r\n    recentSearches: [],\r\n    focus: false,\r\n  };\r\n  componentDidMount() {\r\n    this.getRecent();\r\n  }\r\n  async getRecent() {\r\n    let data = await axios\r\n      .get(\r\n        `${this.state.apiUrl}page=${this.state.pageNo}&format=json&nojsoncallback=1`\r\n      )\r\n      .then((response) => {\r\n        return response;\r\n      })\r\n\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.setState({ temp: [...this.state.temp, ...data.data.photos.photo] });\r\n    this.setState({ pageNo: this.state.pageNo + 1 });\r\n  }\r\n  onTextChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  handleKeyPress = (event) => {\r\n    let val = event.target.value;\r\n    if (event.key === \"Enter\" && val !== \"\") {\r\n      this.setState({ [event.target.name]: val }, () => {\r\n        if (this.state.recentSearches.includes(val) === false) {\r\n          this.state.recentSearches.push(val);\r\n        }\r\n\r\n        localStorage.setItem(\r\n          \"recentSearches\",\r\n          JSON.stringify(this.state.recentSearches)\r\n        );\r\n        axios\r\n          .get(\r\n            `${\r\n              this.state.searchApiUrl + this.state.searchText\r\n            }&safe_search=true&per_page=15&page=1&format=json&nojsoncallback=1`\r\n          )\r\n          .then((res) => this.setState({ temp: res.data.photos.photo }))\r\n          .catch((err) => console.log(err));\r\n      });\r\n    }\r\n  };\r\n  handleInputFocus = () => {\r\n    this.setState({ focus: true });\r\n  };\r\n  handleCloseClick = () => {\r\n    this.setState({ focus: false });\r\n  };\r\n  handleClearClick = () => {\r\n    localStorage.clear();\r\n    this.handleCloseClick();\r\n    this.handleInputFocus();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"search-div\">\r\n          <h1>Search Photos</h1>\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-box\"\r\n            placeholder=\"Search for images\"\r\n            name=\"searchText\"\r\n            value={this.state.searchText}\r\n            onChange={this.onTextChange}\r\n            onKeyPress={this.handleKeyPress}\r\n            onFocus={this.handleInputFocus}\r\n            autoComplete=\"off\"\r\n          />\r\n        </div>\r\n        {this.state.focus ? (\r\n          <div\r\n            style={{\r\n              border: \"1px solid lightgrey\",\r\n              width: \"40rem\",\r\n              margin: \"0 auto\",\r\n              marginTop: \"-50px\",\r\n            }}\r\n          >\r\n            <RecentSearches />\r\n            <div>\r\n              <Button\r\n                variant=\"primary\"\r\n                style={{ width: \"fit-content\" }}\r\n                onClick={this.handleCloseClick}\r\n              >\r\n                Close\r\n              </Button>\r\n              <Button\r\n                variant=\"danger\"\r\n                style={{\r\n                  width: \"fit-content\",\r\n                  marginLeft: \"1rem\",\r\n                }}\r\n                onClick={this.handleClearClick}\r\n              >\r\n                Clear\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flat-list\">\r\n          <FlatList\r\n            list={this.state.temp}\r\n            renderItem={(item) => (\r\n              <Image\r\n                src={`https://live.staticflickr.com/${item.server}/${item.id}_${item.secret}_m.jpg`}\r\n                thumbnail\r\n              />\r\n            )}\r\n            renderWhenEmpty={() => <Loader />}\r\n            display={{\r\n              grid: true,\r\n              gridGap: \"50px\",\r\n            }}\r\n            hasMoreItems={this.state.hasMoreItems}\r\n            loadMoreItems={this.getRecent}\r\n            paginationLoadingIndicator={<Loader />}\r\n            paginationLoadingIndicatorPosition=\"center\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\nimport Search from \"./components/search/Search\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Search />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n\n    <App />,\n\n    document.getElementById('root')\n);"],"sourceRoot":""}